{% extends 'myapp/owner_base.html' %}
{% load static %}
{% block title %}House Request{% endblock %}
{% block body %}
<center>
    <h2><font color="#366092">House Request List</font></h2>
<div class="container">
    <form name="frm" action="" method="post">
            {% csrf_token %}
         <table class="table table-striped table-bordered auto-index">
        <thead>
             <tr>
                <th>Sl.No</th>
                <th>House</th>
                 <th>User</th>
                <th>Review</th>
                <th>Date/Time</th>
                 <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        {% for r_obj in request_list %}
        <tbody>
        <tr class="info ">
            <td></td>

                 {% for house_obj in house_list %}
				{% if house_obj.id == r_obj.house_id %}
					<td>{{ house_obj.house_name }}</td>
				{% endif %}
			{% endfor %}
            {% for user_obj in user_list %}
				{% if user_obj.user_id == r_obj.user_id %}
					<td>{{ user_obj.fname }} {{ user_obj.lname }}({{ user_obj.email }},{{ user_obj.contact }})</td>
				{% endif %}
			{% endfor %}
            <td>{{ r_obj.remarks }}</td>
            <td>{{ r_obj.dt }} / {{ r_obj.tm }}</td>
            <td>{{ r_obj.status }}</td>
            <td>
                <div class="btn-group-vertical">

                    <a class="btn btn-primary" href="../owner_house_messages_view?house_request_id={{r_obj.id}}">Messages</a>
                    <a class="btn btn-primary" href="../owner_user_docs_view?user_id={{r_obj.user_id}}">User Documents</a>
                </div>

            </td>
        </tr>
             </tbody>
        {% endfor %}
        </table>

        {{msg}}
        <br/>

    </form>
</div>
</center>
<style>
  form
  {
    counter-reset: Serial;
  }
  table
  {
  }
  .auto-index td:first-child:before
  {
    counter-increment: Serial;
    content:counter(Serial);
  }
</style>
{% endblock %}